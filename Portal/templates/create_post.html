{% extends "layout.html" %}
{% block content %}

<br>
    <div style="width: 60%; padding-left:40px; width: 60%; margin-left: 20%">
         <h4><b>Create new post for Crowdfunding</b></h4>
                      <br>
        <fieldset class="form-group indigo lighten-5">
            <form method="POST" action="{{ url_for('create_post') }}" enctype="multipart/form-data">
                <div class="form-group">
                <h6><b>Cause for which you need the money</b></h6>
                    {% if create_post_form.cause.errors %}
                        {{ create_post_form.cause(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in create_post_form.cause.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ create_post_form.cause(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                <h6><b>Deatiled Description</b> (Optional)</h6>
                    {% if create_post_form.description.errors %}
                        {{ create_post_form.description(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in create_post_form.description.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ create_post_form.description(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    <h6><b>Amount needed (in INR)</b></h6>
                    {% if create_post_form.money.errors %}
                        {{ create_post_form.money(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in create_post_form.money.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ create_post_form.money(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                <h6><b>Date by which amount is needed</b></h6>
                    {% if create_post_form.endDate.errors %}
                        {{ create_post_form.endDate(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in create_post_form.start_date.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ create_post_form.endDate(class="datepicker", type="text") }}
                        <script>
                            var dates = document.getElementsByClassName('datepicker')
                            for (var i=0; i<dates.length; i++){
                                dates[i].addEventListener("mousedown", function preventClosing(event) {
                                  event.preventDefault();
                                });
                             }
                        </script>
                    {% endif %}
            </div>


                <div class="form-group">
                <a> <b> {{ create_post_form
                    .submit(class="center-align button-border hoverable waves-effect waves-light btn-large indigo darken-4 white-text") }} </b> </a>
                </div>
            </form>
        </fieldset>
    </div>

{% endblock content %}